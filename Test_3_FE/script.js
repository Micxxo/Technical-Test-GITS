const expData = [
	{
		id: 1,
		many: '100+',
		desc: 'Clients Satisfied',
	},
	{
		id: 2,
		many: '80+',
		desc: 'Projects Success',
	},
	{
		id: 3,
		many: '5',
		desc: 'Ready to Use Platforms',
	},
	{
		id: 4,
		many: '15',
		desc: 'Years of Experience',
	},
];

const headerImg = [
	{
		id: 1,
		img: './public/images/pertamina.png',
	},
	{
		id: 3,
		img: './public/images/yamaha.png',
	},
	{
		id: 4,
		img: './public/images/danone.png',
	},
	{
		id: 5,
		img: './public/images/kai-2.png',
	},
	{
		id: 6,
		img: './public/images/toyota.png',
	},
	{
		id: 7,
		img: './public/images/jr.png',
	},
	{
		id: 8,
		img: './public/images/telkom.png',
	},
	{
		id: 9,
		img: './public/images/Kimia-Farma-2004-Logo-PNG480p.png',
	},
	{
		id: 10,
		img: './public/images/otsuka.png',
	},
	{
		id: 11,
		img: './public/images/prodia.png',
	},
	{
		id: 12,
		img: './public/images/manulife.png',
	},
	{
		id: 13,
		img: './public/images/viva-health-logo.png',
	},
	{
		id: 14,
		img: './public/images/bahana.png',
	},
	{
		id: 15,
		img: './public/images/pegadaian.png',
	},
	{
		id: 16,
		img: './public/images/telkomsel.png',
	},
	{
		id: 17,
		img: './public/images/unicef.png',
	},
	{
		id: 18,
		img: './public/images/unilever.png',
	},
	{
		id: 19,
		img: './public/images/bukalapak.png',
	},
];

const porto = [
	{
		img: './public/images/darmo-768x576.png',
		desc: 'Google Workspace for RS Darmo',
	},
	{
		img: './public/images/Prodia-Shot-1-768x576.png',
		desc: 'Healthcare Service Application for Doctors',
	},
	{
		img: './public/images/KF-768x576.png',
		desc: 'Digital Platform for Health Businesses',
	},
	{
		img: './public/images/NAV-Investment-tools-768x576.png',
		desc: 'Increasing Budget and Financial Management for Mineral Water Company in Indonesia',
	},
	{
		img: './public/images/Prime-768x576.png',
		desc: "Planning Milk Company's Employees Visit Made Easier With PRIME",
	},
	{
		img: './public/images/FFI-Safety-Quisionare-768x576.png',
		desc: "Dairy Company in Indonesia Manage Product's Promotions with a Promotion Validation System",
	},
];

const slidesData = [
	{
		title: 'Application Modernization',
		description:
			'We Modernize your app to be scalable, easy to be maintained, and be enriched.',
		link: './index.html',
		svgPath:
			'M11 4V76H68.6V4H11ZM39.8 72.4C37.8172 72.4 36.2 70.7828 36.2 68.8C36.2 66.8172 37.8172 65.2 39.8 65.2C41.7828 65.2 43.4 66.8172 43.4 68.8C43.4 70.7828 41.7828 72.4 39.8 72.4ZM61.4 61.6H18.2V11.2H61.4V61.6Z',
		fill1: '#D0D5DD',
		fill2: '#101828',
	},
	{
		title: 'Application Modernization',
		description:
			'We Modernize your app to be scalable, easy to be maintained, and be enriched.',
		link: './index.html',
		svgPath:
			'M11 4V76H68.6V4H11ZM39.8 72.4C37.8172 72.4 36.2 70.7828 36.2 68.8C36.2 66.8172 37.8172 65.2 39.8 65.2C41.7828 65.2 43.4 66.8172 43.4 68.8C43.4 70.7828 41.7828 72.4 39.8 72.4ZM61.4 61.6H18.2V11.2H61.4V61.6Z',
		fill1: '#D0D5DD',
		fill2: '#101828',
	},
	{
		title: 'Application Modernization',
		description:
			'We Modernize your app to be scalable, easy to be maintained, and be enriched.',
		link: './index.html',
		svgPath:
			'M11 4V76H68.6V4H11ZM39.8 72.4C37.8172 72.4 36.2 70.7828 36.2 68.8C36.2 66.8172 37.8172 65.2 39.8 65.2C41.7828 65.2 43.4 66.8172 43.4 68.8C43.4 70.7828 41.7828 72.4 39.8 72.4ZM61.4 61.6H18.2V11.2H61.4V61.6Z',
		fill1: '#D0D5DD',
		fill2: '#101828',
	},
	{
		title: 'Application Modernization',
		description:
			'We Modernize your app to be scalable, easy to be maintained, and be enriched.',
		link: './index.html',
		svgPath:
			'M11 4V76H68.6V4H11ZM39.8 72.4C37.8172 72.4 36.2 70.7828 36.2 68.8C36.2 66.8172 37.8172 65.2 39.8 65.2C41.7828 65.2 43.4 66.8172 43.4 68.8C43.4 70.7828 41.7828 72.4 39.8 72.4ZM61.4 61.6H18.2V11.2H61.4V61.6Z',
		fill1: '#D0D5DD',
		fill2: '#101828',
	},
	{
		title: 'Application Modernization',
		description:
			'We Modernize your app to be scalable, easy to be maintained, and be enriched.',
		link: './index.html',
		svgPath:
			'M11 4V76H68.6V4H11ZM39.8 72.4C37.8172 72.4 36.2 70.7828 36.2 68.8C36.2 66.8172 37.8172 65.2 39.8 65.2C41.7828 65.2 43.4 66.8172 43.4 68.8C43.4 70.7828 41.7828 72.4 39.8 72.4ZM61.4 61.6H18.2V11.2H61.4V61.6Z',
		fill1: '#D0D5DD',
		fill2: '#101828',
	},
];

const testimonialData = [
	{
		imageSrc: './public/images/Image-Tester.png',
		quote:
			'“GITS.ID helps Toyota reach one of our goal through going digital. The users are also 98% from the target.”',
		name: 'Yoga Pramudia',
		position: 'Section Head, Toyota Motor Manufacturing Indonesia',
	},
	{
		imageSrc: './public/images/Image-Tester-1.png',
		quote:
			'“We like the discussion with GITS.ID and eager to develop more features in the application.”',
		name: 'Ricky Jefta',
		position: 'Head of Sport Science Pocari Sweat, Amerta Indah Otsuka',
	},
];

const pressImg = [
	{
		img: './public/images/Tribun.png',
	},
	{
		img: './public/images/Tribun.png',
	},
	{
		img: './public/images/Tribun.png',
	},
	{
		img: './public/images/Tribun.png',
	},
	{
		img: './public/images/Tribun.png',
	},
	{
		img: './public/images/Tribun.png',
	},
	{
		img: './public/images/Tribun.png',
	},

	{
		img: './public/images/Tribun.png',
	},
	{
		img: './public/images/Tribun.png',
	},
];

const certifData = [
	{
		img: './public/images/Group-16602.png',
		desc: 'ISO 27001 - Information Security Management Certified',
	},
	{
		img: './public/images/Group-16603.png',
		desc: 'ISO 9001 - Certified Company',
	},
	{
		img: './public/images/image-182.png',
		desc: 'Professional Collaboration Engineer',
	},
	{
		img: './public/images/image-182.png',
		desc: 'Professional Collaboration Engineer',
	},
];

const gitsExp = document.querySelector('#gitsExp');
const imgHeaderContainer = document.querySelector('#headerImage');
const portoContainer = document.getElementById('portoContainer');
const slidesContainer = document.querySelector('.slides');
const pressImgContainer = document.querySelector('.press-release-img ');
const imageWrapper = document.querySelector('.image-wrapper');

expData.forEach((item) => {
	const itemElement = document.createElement('div');
	itemElement.innerHTML = `<p class="text-secondary text-2xl font-bold">${item.many}</p>
                            <p>${item.desc}</p>`;
	gitsExp.appendChild(itemElement);
});

const buttonsContainer = document.createElement('div');
buttonsContainer.innerHTML = `
    <div>
        <button class="button-header bg-white border-none text-primary cursor-pointer hover-bg-primary">
            Consult with Us
        </button>
        <button class="button-header bg-transparent text-white border-white border-1 border-solid mt-5 hover-border-primary hover-text-primary cursor-pointer">
            Learn More
        </button>
    </div>
`;
gitsExp.appendChild(buttonsContainer);

headerImg.forEach((item) => {
	const itemElement = document.createElement('div');
	const image = document.createElement('img');
	image.src = item.img;
	image.alt = `Image ${item.id}`;
	image.width = 90;
	image.className = 'bw-image cursor-pointee';
	itemElement.appendChild(image);

	imgHeaderContainer.appendChild(itemElement);
});

// slide & auto slide image Header
let isDragging = false;
let startX;
let scrollLeft;
const scrollAmount = 200;

imageWrapper.addEventListener('mousedown', (e) => {
	isDragging = true;
	startX = e.pageX - imageWrapper.offsetLeft;
	scrollLeft = imageWrapper.scrollLeft;
});

imageWrapper.addEventListener('mouseleave', () => {
	isDragging = false;
});

imageWrapper.addEventListener('mouseup', () => {
	isDragging = false;
});

imageWrapper.addEventListener('mousemove', (e) => {
	if (isDragging) {
		e.preventDefault();
		const x = e.pageX - imageWrapper.offsetLeft;
		const walk = (x - startX) * 5;
		imageWrapper.scrollLeft = scrollLeft - walk;
	}
});

const autoScroll = () => {
	if (!isDragging) {
		imageWrapper.scrollLeft += scrollAmount;
		if (
			imageWrapper.scrollLeft + imageWrapper.clientWidth >=
			imageWrapper.scrollWidth
		) {
			imageWrapper.scrollTo({
				left: 0,
				behavior: 'smooth',
			});
		}
	}
};

setInterval(autoScroll, 2000);

porto.forEach((item) => {
	const image = document.createElement('img');
	image.src = item.img;

	const p = document.createElement('p');
	p.textContent = item.desc;
	p.classList = 'pt-2 text-sm font-semibold';

	const a = document.createElement('a');
	a.href = '#';
	a.appendChild(p);
	a.classList = 'text-black text-left';

	const div = document.createElement('div');
	div.appendChild(image);
	div.appendChild(a);

	portoContainer.appendChild(div);
});

// slider service
const createSlide = (data) => {
	const slide = document.createElement('div');
	slide.classList.add('slide', 'bg-white', 'p-5', 'mt-16', 'shadow-sm');

	slide.innerHTML = `
    <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80" fill="none">
      <path d="${data.svgPath}" fill="${data.fill1}"></path>
      <path fill-rule="evenodd" clip-rule="evenodd" d="${data.svgPath}" fill="${data.fill2}"></path>
    </svg>
    <h1 class="my-5">${data.title}</h1>
    <p class="text-tertiary">${data.description}</p>
    <p class="font-semibold my-10"><a href="${data.link}" class="text-black">Learn More</a></p>
  `;

	return slide;
};

const populateSlides = () => {
	slidesData.forEach((data) => {
		const slide = createSlide(data);
		slidesContainer.appendChild(slide);
	});
};

populateSlides();

let slideIndex = 0;
const slideWidth = document.querySelector('.slide').clientWidth;
const slides = document.querySelector('.slides');
const totalSlides = document.querySelectorAll('.slide').length;
const visibleSlides = 3;

const prevSlide = () => {
	if (slideIndex > 0) {
		slideIndex--;
		slides.style.transform = `translateX(-${slideIndex * slideWidth}px)`;
	}
};

const nextSlide = () => {
	if (slideIndex < totalSlides - visibleSlides) {
		slideIndex++;
		slides.style.transform = `translateX(-${slideIndex * slideWidth}px)`;
	}
};

// testimonial

const createTestimonialSlide = (data) => {
	const slide = document.createElement('div');
	slide.classList.add('slide-testi');

	slide.innerHTML = `
    <div class="flex-center">
      <img src="${data.imageSrc}" alt="tester" class="rounded-full" />
    </div>
    <p class="text-center text-primary text-3xl mt-8">“</p>
    <p class="text-center font-semibold text-xl line-h-25 px-9">${data.quote}</p>
    <div class="py-10" style="width: 200px; margin: auto">
      <h1 class="text-center">${data.name}</h1>
      <p class="text-center line-h-25 pt-2">${data.position}</p>
    </div>
  `;

	return slide;
};

const populateTestimonials = () => {
	const slidesContainer = document.querySelector('.slides-testi');
	testimonialData.forEach((data) => {
		const slide = createTestimonialSlide(data);
		slidesContainer.appendChild(slide);
	});
};

populateTestimonials();

let slideIndexTesti = 0;
const slideWidthTesti = document.querySelector('.slides-testi').clientWidth;
const slidesTesti = document.querySelector('.slides-testi');
const slideItemsTesti = document.querySelectorAll('.slide-testi');
const totalSlidesTesti = slideItemsTesti.length;
const visibleSlidesTesti = 1;

const prevSlideTesti = () => {
	if (slideIndexTesti > 0) {
		slideIndexTesti--;
		slidesTesti.style.transform = `translateX(-${
			slideIndexTesti * slideWidthTesti
		}px)`;
	}
};

const nextSlideTesti = () => {
	if (slideIndexTesti < totalSlidesTesti - visibleSlidesTesti) {
		slideIndexTesti++;
		slidesTesti.style.transform = `translateX(-${
			slideIndexTesti * slideWidthTesti
		}px)`;
	}
};

pressImg.forEach((item) => {
	const img = document.createElement('img');
	img.src = item.img;
	img.alt = 'img';
	img.width = 150;
	pressImgContainer.appendChild(img);
});

const autoScrollPress = () => {
	if (!isDragging) {
		pressImgContainer.scrollLeft += scrollAmount;
		if (
			pressImgContainer.scrollLeft + pressImgContainer.clientWidth >=
			pressImgContainer.scrollWidth
		) {
			pressImgContainer.scrollTo({
				left: 0,
				behavior: 'smooth',
			});
		}
	}
};

setInterval(autoScrollPress, 2000);

//CERTIFICATION

document.addEventListener('DOMContentLoaded', function () {
	const slidesCertif = document.querySelector('.slides-certif');
	let slideIndexCertif = 0;
	let slideWidthCertif;

	certifData.forEach((item) => {
		const container = document.createElement('div');
		container.classList = 'slide-certif bg-white p-5 mt-16 shadow-sm';

		const img = document.createElement('img');
		img.src = item.img;
		img.width = 150;
		img.alt = 'certificates';

		const desc = document.createElement('p');
		desc.classList = 'text-tertiary font-semibold mt-8';
		desc.style.marginBottom = '40px';
		desc.textContent = item.desc;

		container.appendChild(img);
		container.appendChild(desc);
		slidesCertif.appendChild(container);
	});

	// Calculate slide width after the elements are created
	slideWidthCertif = document.querySelector('.slide-certif').clientWidth;

	const totalSlidesCertif = document.querySelectorAll('.slide-certif').length;
	const visibleSlidesCertif = 3;

	window.prevSlideCertif = () => {
		if (slideIndexCertif > 0) {
			slideIndexCertif--;
			slidesCertif.style.transform = `translateX(-${
				slideIndexCertif * slideWidthCertif
			}px)`;
		}
	};

	window.nextSlideCertif = () => {
		if (slideIndexCertif < totalSlidesCertif - visibleSlidesCertif) {
			slideIndexCertif++;
			slidesCertif.style.transform = `translateX(-${
				slideIndexCertif * slideWidthCertif
			}px)`;
		}
	};

	// Event listeners or any other functionality you might have
});
